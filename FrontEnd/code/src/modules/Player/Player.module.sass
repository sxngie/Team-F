@import ../../styles/helpers

.player
    pointer-events: all
    position: relative
    display: flex
    flex-direction: column
    padding: 10px 24px
    height: $player-h
    width: 100%
    max-width: 700px
    align-items: center
    justify-content: center
    border-radius: 20px
    box-shadow: 0 2px 8px transparentize($n5,0.6 )
    border: 1px solid $n6
    +dark
        border: 1px solid $n2
        box-shadow: 0 4px 16px darken($n1,1 )

    &::before
        pointer-events: none
        z-index: -1
        content: ""
        width: 100%
        height: 100%
        border-radius: inherit
        position: absolute
        background: linear-gradient(-20deg,transparentize(lighten($n6,4 ),0.1 ),transparentize($n7, 0.2 ))
        backdrop-filter: blur(10px)
        overflow: hidden
        +dark
            background: linear-gradient(-20deg,transparentize($n2, 0.2),transparentize(lighten($n1, 2),0.1 ))

    &.compact
        height: $player-h-m
        max-width: 375px
        display: grid
        grid-template-columns: 1fr max-content
        column-gap: 6px
        padding: 8px 16px 5px

        .btns
            display: none
        .playBtn
            grid-column: 2
            grid-row: 1
            button
                &:nth-child(1),&:nth-child(3)
                    display: none
        .playing
            button:nth-child(2)
                svg
                    animation: spin 5s linear infinite
                    animation-delay: 1s
        .volume
            display: none
        .info
            text-align: left
            width: 100%
            grid-column: 1
            grid-row: 1
            position: relative
            overflow: unset
            text-overflow: ellipsis
            white-space: normal
            display: flex
            flex-direction: column

            & > span
                display: -webkit-box
                max-width: 100%
                -webkit-line-clamp: 1
                -webkit-box-orient: vertical
                overflow: hidden

        .control
            display: none

.btns
    display: flex
    column-gap: 16px

.controls
    display: flex
    width: 100%
    align-items: center

.play
    flex-grow: 1
    justify-content: center
    align-items: center
    display: flex

.info
    width: 90%
    +text-overflow
    user-select: none
    text-align: center
    &:hover,&.active,&:focus-visible
        transition: $transition
        & > span
            text-decoration-color: $n3
            text-underline-offset: 2px
            text-decoration: underline solid 2px
            +dark
                text-decoration-color: $n8
    &:active
        transform: scale(0.95)
.progress
    width: 100%
    grid-column: 1 / 3
    grid-row: 2

.icon
    fill: $n4
    width: 24px
    height: 24px

.btn
    padding: 6px
    transition: $transition
    &:hover,&.active,&:focus-visible

        .icon
            fill: $n3
            +dark
                fill: $n5
            &.liked
                fill: $s4

    &:active
        transform: scale(0.80)

.control
    width: 48px
    height: 48px
    display: grid
    place-items: center
    transition: $transition
    &:hover,&.active,&:focus-visible
        .icon
            fill: $n3
            +dark
                fill: $n5
            &.active
                fill: $p1

    &:active
        transform: scale(0.80)

.active
    fill: $p1

.liked
    fill: $s4

@keyframes spin
    100%
        transform: rotate(360deg)
